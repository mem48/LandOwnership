<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="Description" content="Land ownership in England and Wales">

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-SFVXHLPJ8H"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-SFVXHLPJ8H');
</script>

<!-- Set Up Mapbox -->
<script src="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.js"></script>
<link href="https://unpkg.com/maplibre-gl@2.4.0/dist/maplibre-gl.css" rel="stylesheet" />
<link rel="stylesheet" href="web/style.css">


</head>
<body>
  
<!-- layer select -->
<div style="position: absolute; top: 10px; left: 10px; z-index: 9; opacity: 0.8; background-color: #EBEBEB;">
  <p><label><input type="checkbox" id="inspirecheckbox" value="true" onclick="toggleLayer('inspire')" checked>Inspire Polygons</label></p>
  <p><label><input type="checkbox" id="landownerscheckbox" value="true" onclick="toggleLayer('landowners')" checked>Owner Points</label></p>
  <p><select id="layerinput" name="layerinput" onchange="switchLayer()" aria-label="Onwers Layer">
      <option value="Category" selected>Type of Company</option>
      <option value="geocode_type">Geocoding Accuracy</option>
  </select></p>
</div>

<!-- splash -->
<div id="welcome" class="welcome">
<h1> Welcome to the England and Wales land ownership map</h1>
<p>This map is intended to help people understand land ownership in England and Wales. It maps data published by the <a href = "https://www.gov.uk/government/organisations/land-registry">Land Registry</a>. For code and more information on data and methods see the <a href="https://github.com/mem48/LandOwnership/">GitHub repo</a>.</p>



<div style="background-color: #a5cffa; padding: 5px">
  <p><b>To view the map, please provide the information below:</b></p>
  <form 
  method="POST" 
  action="https://script.google.com/macros/s/AKfycbxNzqg-ewbcHJCqRNgzPPWhCyPXZAdlTNVpepVN6o59oKRTqKj3n-8WR7oG50_CQYOT/exec"
target="dummyframe">
  <label for="Name">Full name </label>
  <input id="namebox" name="Name" type="text" placeholder="Full name" required><br>
  <label for="Consent">I agree to the terms of use for this site (see below): </label>
  <input id= "Consentcheckbox" name="Consent" type="checkbox" required><br>
  <label for="Cookies">I agree to the use of Google Analytics cookies: </label>
  <input id= "Cookiescheckbox" name="Cookies" type="checkbox" required><br>
  <button type="submit" onclick="closewelcome()">Take me to the map</button>
</form></div>

<iframe name="dummyframe" id="dummyframe" style="display: none;"></iframe>

<h2>Why do you ask for my name?</h2>
<p>The <a href="https://use-land-property-data.service.gov.uk/datasets/ccod/licence/view">licence</a> for the data published by the Land Registry requires that we <i>"maintain End-User Records ... for the purpose of auditing compliance with the terms of this Licence and/or for the prevention and/or detection of crime"</i>. Therefore we ask for your name and record the time you visited the site. We won't share this data with anybody unless the Land Registry requires us to as part of an audit. </p>

<h2>Terms of use</h2>
<p>This website is for personal, non-commercial use. The information is illustrative and may contain errors or missing data. You must not attempt to scrape or bulk download the data. You cannot embed or reproduce the maps or data without written consent.</p>

<h2>Copyright Notice</h2>
<p>This information is subject to Crown copyright and database rights 2022 and is reproduced with the <a href="https://use-land-property-data.service.gov.uk/datasets/inspire#conditions">permission of HM Land Registry</a>.</p>
<p>The polygons (including the associated geometry, namely x, y co-ordinates) are subject to Crown copyright and database rights 2022 Ordnance Survey 100026316.</p>
<p>Contains OS data © Crown copyright and database right 2022</p>
<p>Contains Royal Mail data © Royal Mail copyright and Database right 2022</p>
<p>Contains National Statistics data © Crown copyright and database right 2022</p>

<h2>Cookies Notice</h2>
<p>We use Google Analytics as part of the requirement to log the usage of Land Registry data. These services may set third-party cookies.</p>

</div>

<script>
function closewelcome() {
  var x = document.getElementById("welcome");
  var checkBox1 = document.getElementById("Consentcheckbox");
  var checkBox2 = document.getElementById("Cookiescheckbox");
  var namebox = document.getElementById("namebox");
  if(checkBox1.checked === true & checkBox2.checked === true & namebox.value.length != 0){
    if (x.style.display === "none") {
      x.style.display = "block";
    } else {
      x.style.display = "none";
    }
  } else {
    alert("You can't view the map until you complete the form")
  }
  
  
}
</script>


<!-- map -->
<div id="map" class="map" style='width: 100%; height: 600px;'></div>
<h1>Interactive map of Land Registry data</h1>

<p>This map is intended to help people understand land ownership in England and Wales. It maps data published by the Land Registry. For code and more information on data and methods see the <a href="https://github.com/mem48/LandOwnership/">GitHub repo</a>.</p>

The map shows two types of data:

<h2>Inspire Polygons</h2>
<p>The Inspire polygons show the boundaries of freehold land registered with the Land Registry. Not all land ownership is registered with the Land Registry, so the map has some gaps. Also, due to the size of the dataset, we can't map all the polygons when zoomed out. When zoomed out, you will only see polygons greater than 100 acres; at medium zooms, only polygons greater than 10 acres. To see the full dataset, zoom in. </p>

<h2>Ownership Points</h2>
<p>The Land Registry does not publish data on who owns every piece of land in England and Wales.  But they do publish data on UK and overseas companies that own land. This map shows the locations of these properties by parsing the text of the land titles detect and geocode addresses.  This is an imperfect process and the data is unstructured and complex, so there will be errors and missing data. The geocoding is a work in progress, currently about 1.5 million addresses have been mapped and more data will be added soon.</p>

<!-- The Modal -->
<div id="myModal" class="modal">
<span class="close">&times;</span>
  <table>
  <tr>
	<th>Name</th>
	<th>Value</th>
	</tr>
	
  <tr>
	<td><abbr title="The title number">Title</abbr></td>
	<td align='right' id="Title">NA</td>
  </tr>
  
  <tr>
  <td><abbr title="The name of the company that owns the property">Proprietor</abbr></td>
  <td align='right' id="Proprietor">NA</td>
</tr>
<tr>
  <td><abbr title="Is the land freehold or leasehold">Tenure</abbr></td>
  <td align='right' id="Tenure">NA</td>
</tr>
<tr>
  <td><abbr title="The company number">Company No</abbr></td>
  <td align='right' id="Company_No">NA</td>
</tr>
<tr>
  <td><abbr title="The type of company">Category</abbr></td>
  <td align='right' id="Category">NA</td>
</tr>
<tr>
  <td><abbr title="The address registered with the Land Registry; this may be multiple addresses per title">Property Address</abbr></td>
  <td align='right' id="Property_Address">NA</td>
</tr>
<tr>
  <td><abbr title="The address that was used to locate the point. This should be the same as the Property Address but may differ if the title included multiple addresses or if the geocoder has misinterpreted the address">Geocoded address</abbr></td>
  <td align='right' id="geocoded_address">NA</td>
</tr>
<tr>
  <td><abbr title="What has the geocoder found, usually an Address but may be a road or postcode if the geocoder was unable to find a good match">Geocode type</abbr></td>
  <td align='right' id="geocode_type">NA</td>
</tr>
</table>
</div>


<script type="text/javascript" src="web/map.js"></script>
<script type="text/javascript" src="web/modal.js"></script>

</body>
</html>
